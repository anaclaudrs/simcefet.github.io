{"version":3,"sources":["components/paginas/simulacao/index.js","components/paginas/simulacao/simulacao.js","components/simulacoes lazy /^/.*$/ groupOptions: {} namespace object"],"names":["Simulacao","props","simulacaoId","params","id","simulacaoNome","nome","simulacaoRef","simulacaoStatus","animationFrameId","SimulacaoComponent","React","lazy","state","scene","THREE","camera","renderer","clock","setSimulacaoRef","elemento","inicializarSimulacao","redimensionar","navbarHeight","document","getElementById","offsetHeight","footerHeight","simulacaoHeight","canvas","width","offsetWidth","height","window","innerHeight","Math","max","min","setSize","aspect","updateProjectionMatrix","render","this","children","slice","forEach","child","remove","background","position","set","inicializar","setState","iterar","getDelta","requestAnimationFrame","iterarSimulacao","bind","start","cancelAnimationFrame","stop","appendChild","domElement","addEventListener","prevProps","removeEventListener","className","sm","lg","span","order","Header","placement","overlay","Body","Suspense","fallback","ref","xs","variant","disabled","onClick","executarSimulacao","pararSimulacao","reiniciarSimulacao","Component","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","all","keys","Object","module","exports"],"mappings":"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","file":"static/js/4.b38d183a.chunk.js","sourcesContent":["import Simulacao from './simulacao';\r\nexport default Simulacao;\r\n","import React from 'react';\r\nimport { Row, Col, Card, Button, OverlayTrigger, Tooltip } from 'react-bootstrap';\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport * as THREE from 'three';\r\nimport './simulacao.css';\r\n\r\n\r\nconst SIMULACAO_STATUS_INDEFINIDA = 0;\r\nconst SIMULACAO_STATUS_INICIALIZADA = 1;\r\nconst SIMULACAO_STATUS_EXECUTANDO = 2;\r\nconst SIMULACAO_STATUS_PARADA = 3;\r\n\r\n\r\nclass Simulacao extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.simulacaoId = props.params.id;\r\n        this.simulacaoNome = props.params.nome;\r\n        this.simulacaoRef = null;\r\n        this.simulacaoStatus = SIMULACAO_STATUS_INDEFINIDA;\r\n        this.animationFrameId = null;\r\n\r\n        this.SimulacaoComponent = React.lazy(() => import(`../../simulacoes/${this.simulacaoId}`));\r\n\r\n        this.state = {\r\n            simulacaoStatus: SIMULACAO_STATUS_INDEFINIDA,\r\n            scene: new THREE.Scene(),\r\n            camera: new THREE.PerspectiveCamera(45, 2, 0.1, 1000),\r\n            //camera: new THREE.OrthographicCamera()\r\n            renderer: new THREE.WebGLRenderer(),\r\n            clock: new THREE.Clock(false)\r\n        };\r\n\r\n        this.setSimulacaoRef = (elemento) => {\r\n            if (!this.simulacaoRef && elemento) {\r\n                this.simulacaoRef = elemento;\r\n                this.inicializarSimulacao();\r\n            }\r\n        };\r\n\r\n        this.redimensionar = () => {\r\n            const navbarHeight = document.getElementById('app-navbar').offsetHeight;\r\n            const footerHeight = document.getElementById('app-footer').offsetHeight;\r\n            const simulacaoHeight = document.getElementById('app-simulacao').offsetHeight;\r\n            const canvas = document.getElementById('canvas');\r\n    \r\n            let width = canvas.offsetWidth;\r\n            let height = window.innerHeight - navbarHeight - footerHeight - simulacaoHeight + canvas.offsetHeight;\r\n            height = Math.max(height, 480);\r\n            height = Math.min(height, width);\r\n    \r\n            this.state.renderer.setSize(width, height, true);\r\n            this.state.camera.aspect = width / height;\r\n            this.state.camera.updateProjectionMatrix();\r\n            this.state.renderer.render(this.state.scene, this.state.camera);\r\n        };\r\n    }\r\n\r\n    inicializarSimulacao() {\r\n        this.state.scene.children.slice().forEach(child => this.state.scene.remove(child));\r\n        this.state.scene.background = new THREE.Color('#f8f9fa');\r\n        this.state.camera.position.set(0, 2, 20);\r\n        this.simulacaoRef.inicializar(this.state.scene, this.state.camera);\r\n        this.state.renderer.render(this.state.scene, this.state.camera);\r\n        this.setState({\r\n            simulacaoStatus: SIMULACAO_STATUS_INICIALIZADA\r\n        });\r\n    }\r\n\r\n    iterarSimulacao() {\r\n        this.simulacaoRef.iterar(this.state.scene, this.state.camera, this.state.clock.getDelta());\r\n        this.state.renderer.render(this.state.scene, this.state.camera);\r\n        this.animationFrameId = requestAnimationFrame(this.iterarSimulacao.bind(this));\r\n    }\r\n\r\n    executarSimulacao() {\r\n        this.state.clock.start();\r\n        this.iterarSimulacao();\r\n        this.setState({\r\n            simulacaoStatus: SIMULACAO_STATUS_EXECUTANDO\r\n        });\r\n    }\r\n\r\n    pararSimulacao() {\r\n        cancelAnimationFrame(this.animationFrameId);\r\n        this.state.clock.stop();\r\n        this.setState({\r\n            simulacaoStatus: SIMULACAO_STATUS_PARADA\r\n        });\r\n    }\r\n\r\n    reiniciarSimulacao() {\r\n        cancelAnimationFrame(this.animationFrameId);\r\n        this.state.clock.stop();\r\n        this.inicializarSimulacao();\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        // Ajusta o tamanho do elemento de exibição da cena\r\n        this.redimensionar();\r\n        \r\n        // Injeta o elemento de exibição da cena na página\r\n        const canvas = document.getElementById('canvas');\r\n        canvas.appendChild(this.state.renderer.domElement);\r\n\r\n        // Adiciona evento para ajustar elemento de exibição da cena\r\n        // caso a janela da aplicação seja redimensionada\r\n        window.addEventListener('resize', this.redimensionar);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        // Não faz nada por aqui...\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.redimensionar);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Row className=\"m-0 p-0\">\r\n\r\n                {/* Painel de configurações da simulação */}\r\n                <Col className=\"m-0 p-3 pt-4\" sm={12} lg={{ span: 3, order: 2 }}>\r\n                    <Card>\r\n                        <Card.Header className=\"clearfix\">\r\n                            <span className=\"float-left\">Parâmetros da simulação </span>\r\n                            <OverlayTrigger\r\n                                    placement=\"auto\"\r\n                                    overlay={\r\n                                        <Tooltip>Para aplicar as alterações, clique no botão de \"Reiniciar\" da simulação.</Tooltip>\r\n                                    }>\r\n                                <span className=\"float-right text-primary\"><Icon.InfoCircleFill /></span>\r\n                            </OverlayTrigger>\r\n                        </Card.Header>\r\n                        <Card.Body>\r\n                            <React.Suspense fallback=\"Aguarde...\">\r\n                                <this.SimulacaoComponent ref={this.setSimulacaoRef} />\r\n                            </React.Suspense>\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Col>\r\n\r\n                {/* Painel de controle e exibição do universo virtual */}\r\n                <Col id=\"app-simulacao\" className=\"m-0 p-3 pt-4\" sm={12} lg={{ span: 9, order: 1 }}>\r\n                    <Card>\r\n                        <Card.Body>\r\n                            <Row>\r\n                                <Col className=\"text-left text-truncate\" xs={6}>\r\n                                    <h5>{this.simulacaoNome}</h5>\r\n                                </Col>\r\n                                <Col className=\"text-right\" xs={6}>\r\n                                    <Button variant=\"success\"\r\n                                            disabled={this.state.simulacaoStatus === SIMULACAO_STATUS_INDEFINIDA || this.state.simulacaoStatus === SIMULACAO_STATUS_EXECUTANDO}\r\n                                            onClick={() => this.executarSimulacao()}>\r\n                                        <Icon.PlayFill />\r\n                                        <span className=\"d-none d-md-inline\"> Executar</span>\r\n                                    </Button>{' '}\r\n                                    <Button variant=\"danger\" \r\n                                            disabled={this.state.simulacaoStatus === SIMULACAO_STATUS_INDEFINIDA || this.state.simulacaoStatus === SIMULACAO_STATUS_INICIALIZADA || this.state.simulacaoStatus === SIMULACAO_STATUS_PARADA}\r\n                                            onClick={() => this.pararSimulacao()}>\r\n                                        <Icon.PauseFill />\r\n                                        <span className=\"d-none d-md-inline\"> Parar</span>\r\n                                    </Button>{' '}\r\n                                    <Button variant=\"primary\" \r\n                                            onClick={() => this.reiniciarSimulacao()}>\r\n                                        <Icon.ArrowCounterclockwise />\r\n                                        <span className=\"d-none d-md-inline\"> Reiniciar</span>\r\n                                    </Button>\r\n                                    <br />&nbsp;\r\n                                </Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col sm={12}>\r\n                                    <Card>\r\n                                        <Card.Body>\r\n                                            <div id=\"canvas\"></div>\r\n                                        </Card.Body>\r\n                                    </Card>\r\n                                </Col>\r\n                            </Row>\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Col>\r\n\r\n            </Row>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Simulacao;\r\n","var map = {\n\t\"./\": [\n\t\t36\n\t],\n\t\"./colisao-unidimensional-elastica\": [\n\t\t92,\n\t\t9\n\t],\n\t\"./colisao-unidimensional-elastica.js\": [\n\t\t92,\n\t\t9\n\t],\n\t\"./index\": [\n\t\t36\n\t],\n\t\"./index.js\": [\n\t\t36\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 94;\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}